<div class="perfil-container" *ngIf="user; else noSession">

  <div class="header">
    <h2>Mi Perfil</h2>
    <p class="session-info">
      Sesión iniciada como:
      <strong>{{ user.email }}</strong>
      <span class="role">({{ user.role }})</span>
    </p>
  </div>

  <div class="avatar">
    <img
      src="https://img.freepik.com/vector-premium/icono-perfil-avatar-predeterminado-imagen-usuario-redes-sociales-icono-avatar-gris-silueta-perfil-blanco-ilustracion-vectorial_561158-3407.jpg?w=2000"
      alt="avatar"
    >
  </div>

  <form [formGroup]="perfilForm">
    <h3>Información Personal</h3>

    <label>Correo Electrónico</label>
    <input type="email" formControlName="email">

    <h3>Seguridad</h3>

    <label>Contraseña Actual</label>
    <input type="password" formControlName="passwordActual">

    <label>Nueva contraseña</label>
    <input type="password" formControlName="nuevaPassword">

    <div class="acciones">
      <button type="button" class="guardar" (click)="guardarCambios()">
        Guardar cambios
      </button>

      <button type="button" class="cancelar" (click)="cancelar()">
        Cancelar
      </button>

      <button type="button" class="logout" (click)="logout()">
        Cerrar sesión
      </button>
    </div>
  </form>
</div>

<ng-template #noSession>
  <p>No hay sesión activa.</p>
</ng-template>