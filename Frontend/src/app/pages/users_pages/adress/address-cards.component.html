<div class="grid">

  <!-- DIRECCIONES -->
  <div
    class="card"
    *ngFor="let a of addresses"
    [class.primary]="a.is_default"
  >
    <div class="card-header">
      <span class="tag" *ngIf="a.is_default">Predeterminada</span>

      <div class="actions">
        <i
          class="fas fa-star"
          title="Predeterminada"
          (click)="setDefault(a)">
        </i>

        <i
          class="fas fa-pen"
          title="Editar"
          (click)="openEditAddress(a)">
        </i>

        <i
          class="fas fa-trash"
          title="Eliminar"
          (click)="deleteAddress(a.id)">
        </i>
      </div>
    </div>

    <h3>{{ a.street }}</h3>
    <p class="name">{{ a.receiver_name }}</p>
    <p>{{ a.city }}, {{ a.state }}</p>
    <p>{{ a.postal_code }}</p>

    <p class="phone">
      <i class="fas fa-phone"></i> {{ a.phone }}
    </p>

    <div class="map-placeholder">{{ a.city }}</div>
  </div>

  <!-- ADD -->
  <div class="card add" (click)="openAddAddress()">
    <div class="add-content">
      <i class="fas fa-location-dot"></i>
      <p>A帽adir otra direcci贸n</p>
    </div>
  </div>

</div>

<!-- MODAL -->
<div class="modal-backdrop" *ngIf="showForm">
  <div class="modal">

    <!--  TTULO DINMICO -->
    <h2>{{ editMode ? 'Editar direcci贸n' : 'Nueva direcci贸n' }}</h2>

    <form [formGroup]="addressForm" (ngSubmit)="submitAddress()">

      <input
        formControlName="receiver_name"
        placeholder="Nombre del receptor">

      <input
        formControlName="phone"
        placeholder="Tel茅fono">

      <input
        formControlName="street"
        placeholder="Calle y n煤mero">

      <input
        formControlName="city"
        placeholder="Ciudad">

      <input
        formControlName="state"
        placeholder="Estado">

      <input
        formControlName="postal_code"
        placeholder="C贸digo postal">

      <textarea
        formControlName="references"
        placeholder="Referencias">
      </textarea>

      <label class="checkbox">
        <input type="checkbox" formControlName="is_default">
        Usar como direcci贸n predeterminada
      </label>

      <div class="actions">
        <button type="button" (click)="closeForm()">
          Cancelar
        </button>

        <!--  TEXTO DINMICO -->
        <button type="submit" [disabled]="addressForm.invalid">
          {{ editMode ? 'Actualizar' : 'Guardar' }}
        </button>
      </div>

    </form>

  </div>
</div>

