<section *ngIf="product as p" class="product-detail">

  <div class="detail-content">

    <!-- Imagen (placeholder vacío) -->
    <div class="image-placeholder"></div>

    <!-- Info -->
    <div class="info">
      <h1>{{ p.name }}</h1>

      <p class="price">$ {{ p.price }}</p>

      <p class="description">
        {{ p.description }}
      </p>

      <!-- STOCK -->
      <p class="stock" *ngIf="p.stock !== undefined && p.stock > 0">
        Stock disponible: {{ p.stock }}
      </p>

      <p class="stock out" *ngIf="p.stock === 0">
        Agotado
      </p>

      <!-- Cantidad -->
      <div class="quantity">
        <button (click)="decrease()">-</button>
        <span>{{ quantity }}</span>
        <button (click)="increase()">+</button>
      </div>

      <!-- Botón agregar -->
      <button
        class="add-btn"
        [disabled]="p.stock === 0"
        (click)="addToCart()"
      >
        Agregar al carrito
      </button>
    </div>

  </div>

  <!-- ================= RECOMENDADOS ================= -->
  <section
    class="recommended"
    *ngIf="recommendedProducts.length > 0"
  >
    <h2>Productos recomendados</h2>

    <div class="recommended-grid">
      <app-product-card
        *ngFor="let rp of recommendedProducts"
        [product]="rp"
      ></app-product-card>
    </div>
  </section>

</section>
