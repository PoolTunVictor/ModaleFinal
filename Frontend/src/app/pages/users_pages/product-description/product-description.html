<!-- BANNER -->
<div class="brand-hero">
  <h1>MODALE & CO</h1>
  <p>Encuentra lo √∫ltimo en tendencia, solo aqu√≠</p>
</div>

<section *ngIf="product as p" class="product-page">

  <div class="product-container">

    <!-- IMAGEN -->
    <div class="product-image">
      <img
        [src]="p.main_image || 'assets/no-image.png'"
        alt="{{ p.name }}"
      />
    </div>

    <!-- INFO -->
    <div class="product-info">
      <h1>{{ p.name }}</h1>
      <p class="price">$ {{ p.price }}</p>
      <p class="description">{{ p.description }}</p>

      <p class="stock" *ngIf="p.stock > 0">
        Stock disponible: {{ p.stock }}
      </p>
      <p class="stock out" *ngIf="p.stock === 0">
        Agotado
      </p>

      <div class="actions">
        <div class="quantity-control">
          <button (click)="decrease()">‚àí</button>
          <span>{{ quantity }}</span>
          <button (click)="increase()">+</button>
        </div>

        <button
          class="add-btn"
          [disabled]="p.stock === 0"
          (click)="addToCart()"
        >
          Agregar
        </button>
      </div>

      <!-- üî¥ MENSAJE CUANDO YA NO HAY STOCK -->
      <p class="stock-error" *ngIf="showStockModal">
        {{ stockMessage }}
      </p>
      <!-- üî¥ FIN MENSAJE -->

    </div>
  </div>

  <!-- RECOMENDADOS -->
  <section class="recommended" *ngIf="recommendedProducts.length > 0">
    <h2>Tambi√©n podr√≠a gustarte</h2>
    <div class="recommended-grid">
      <app-product-card
        *ngFor="let rp of recommendedProducts"
        [product]="rp"
      ></app-product-card>
    </div>
  </section>

</section>
