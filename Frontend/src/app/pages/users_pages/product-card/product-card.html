<div
  class="product-card"
  *ngIf="product as p"
  (click)="goToDetail()"
>

  <!-- IMAGEN -->
  <div class="product-image">
    <img
      *ngIf="p.main_image; else noImage"
      [src]="p.main_image"
      alt="{{ p.name }}"
    />

    <ng-template #noImage>
      <div class="no-image">Sin imagen</div>
    </ng-template>
  </div>

  <!-- INFO -->
  <div class="product-info">
    <p class="product-name">{{ p.name }}</p>

    <p class="product-price">$ {{ p.price }}</p>

    <!-- STOCK -->
    <p class="product-stock" [class.out]="p.stock === 0">
      Stock: {{ p.stock }}
    </p>

    <!-- BOTÃ“N -->
    <button
      class="add-btn"
      (click)="addToCart($event)"
      [disabled]="p.stock === 0"
    >
      Agregar
    </button>
  </div>

</div>

<!-- ðŸ”” MENSAJE FLOTANTE -->
<div class="floating-message" *ngIf="showFloatingMessage">
  {{ floatingMessage }}
</div>
