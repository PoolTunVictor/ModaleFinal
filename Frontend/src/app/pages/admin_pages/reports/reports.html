<div class="reports-page">

  <!-- Header -->
  <h1 class="title">GESTIÓN DE REPORTES</h1>
  <p class="subtitle">Administra tus reportes.</p>

  <!-- Loading -->
  <p *ngIf="isLoading">Cargando reportes...</p>

  <!-- KPIs -->
  <div class="kpis" *ngIf="!isLoading && report">

    <div class="kpi-card">
      <span class="kpi-title">VENTAS TOTALES</span>
      <span class="kpi-value green">
        ${{ report.total_sales | number:'1.2-2' }}
      </span>
    </div>

    <div class="kpi-card">
      <span class="kpi-title">ÓRDENES</span>
      <span class="kpi-value">
        {{ report.total_orders }}
      </span>
    </div>

    <div class="kpi-card" *ngIf="report.top_product">
      <span class="kpi-title">PRODUCTO TOP</span>
      <span class="kpi-value green">
        {{ report.top_product.name }}
      </span>
      <span class="kpi-sub">
        {{ report.top_product.units }} vendidos
      </span>
    </div>

  </div>

  <!-- Chart (placeholder, no se toca aún) -->
  <div class="chart-card">
    <h3>Tendencia de Ventas (últimos 30 días)</h3>
    <div class="chart-placeholder"></div>
  </div>

  <!-- Table -->
  <div class="table-card" *ngIf="!isLoading && report">
    <h3>Productos con Mejor Rendimiento</h3>

    <table class="products-table">
      <thead>
        <tr>
          <th>Producto</th>
          <th>Unidades</th>
          <th>Ingresos Totales</th>
          <th>Margen de Ganancia</th>
        </tr>
      </thead>

      <tbody>
        <tr *ngFor="let p of report.products">

          <td class="product-cell">
            <div>
              <strong>{{ p.name }}</strong>
            </div>
          </td>

          <td>{{ p.units }}</td>

          <td>
            ${{ p.revenue | number:'1.2-2' }}
          </td>

          <td>—</td>

        </tr>
      </tbody>
    </table>
  </div>

</div>
