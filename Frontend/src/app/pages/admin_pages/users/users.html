<div class="users-page">

  <!-- ================= HEADER ================= -->
  <div class="header">
    <div>
      <h1 class="title">GESTIÓN DE USUARIOS</h1>
      <p class="subtitle">
        Administra el acceso y los permisos de los usuarios registrados.
      </p>
    </div>

    <button class="btn-primary" disabled>
      <span class="material-symbols-outlined">add</span>
      Agregar Usuario
    </button>
  </div>

  <!-- ================= FILTROS ================= -->
  <div class="filters-card">

    <div class="search-box">
      <span class="material-symbols-outlined">search</span>
      <input
        type="text"
        placeholder="Buscar por correo electrónico..."
        disabled
      >
    </div>

    <div class="filters">
      <select disabled>
        <option>Todos los roles</option>
        <option>Administrador</option>
        <option>Cliente</option>
      </select>

      <button class="btn-outline" disabled>
        <span class="material-symbols-outlined">download</span>
        Exportar
      </button>
    </div>

  </div>

  <!-- ================= TABLA ================= -->
  <div class="table-card">

    <table class="users-table">
      <thead>
        <tr>
          <th>Usuario</th>
          <th>Rol</th>
          <th>Estado</th>
          <th>Último acceso</th>
          <th>Acciones</th>
        </tr>
      </thead>

      <!-- ⏳ LOADING -->
      <tbody *ngIf="isLoading">
        <tr>
          <td colspan="5" class="loading-cell">
            Cargando usuarios...
          </td>
        </tr>
      </tbody>

      <!-- ✅ USUARIOS -->
      <tbody *ngIf="!isLoading">

        <tr *ngFor="let user of users">

          <!-- Usuario -->
          <td class="user-cell">
            <img src="/assets/user-placeholder.png" alt="avatar">
            <div>
              <strong>{{ user.email.split('@')[0] }}</strong>
              <small>{{ user.email }}</small>
            </div>
          </td>

          <!-- Rol -->
        <td>
          <select
            class="role-select"
            [value]="user.role"
            (change)="changeRole(user, $event)"
          >
            <option value="admin">Administrador</option>
            <option value="cliente">Cliente</option>
          </select>
        </td>

          <!-- Estado -->
          <td>
            <span class="status active">Activo</span>
          </td>

          <!-- Último acceso -->
          <td>—</td>

          <!-- Acciones -->
          <td class="actions">›</td>

        </tr>

        <!-- SIN USUARIOS -->
        <tr *ngIf="users.length === 0">
          <td colspan="5" class="loading-cell">
            No hay usuarios registrados
          </td>
        </tr>

      </tbody>
    </table>

    <!-- ================= FOOTER TABLA ================= -->
    <div class="table-footer">
      <span>
        Mostrando {{ users.length }} usuario(s)
      </span>

      <div class="pagination">
        <button disabled>‹</button>
        <button class="active">1</button>
        <button disabled>›</button>
      </div>
    </div>

  </div>

</div>
